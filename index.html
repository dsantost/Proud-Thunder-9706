<!DOCTYPE HTML>
<!--
	Full Motion by TEMPLATED
	templated.co @templatedco
	Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
-->
<html ng-app="TwitchApp">
	<head>
		<title>Proud Thunder</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="stylesheet" href="css/main.css" />
		<!-- Scripts -->
		<script src="js/jquery.min.js"></script>
		<script src="js/jquery.scrolly.min.js"></script>
		<script src="js/jquery.poptrox.min.js"></script>
		<script src="js/skel.min.js"></script>
		<script src="js/util.js"></script>
		<script src="js/main.js"></script>
		<script src="js/twitch.js"></script>
		<script src="js/twitch.min.js"></script>
		<script src="//code.jquery.com/jquery.min.js"></script>
		<script src="https://ttv-api.s3.amazonaws.com/twitch.min.js"></script>
		<script type="text/javascript" src="js/angular.min.js"></script>
		<script type="text/javascript" src="js/app.js"></script>
	</head>
	<body id="top" ng-controller="StreamsController as st">

			<!-- Banner -->
			<!--
				To use a video as your background, set data-video to the name of your video without
				its extension (eg. images/banner). Your video must be available in both .mp4 and .webm
				formats to work correctly.
			-->
				<section id="banner" data-video="images/banner">
					<div class="inner">
						<header>
							<h1>Proud Thunder</h1>
							<p>A web application to search and see Twitch streams.</p>
						</header>
						<input type="text" class="form-control" name="searchBox" ng-model="searchBox" placeholder="Search" aria-describedby="basic-addon1">
						<br>
						<a href="#main" ng-click='st.call(searchBox)' class="more">Learn More</a>
					</div>
				</section>

			<!-- Main -->
				<div id="main">
					<div class="inner">

					<!-- Boxes -->
						<div class="thumbnails">

							<div class="box" ng-repeat="stream in streams.streams" ng-show="streams.streams.length">
								<img src='{{stream.preview.medium}}' alt="" />
								<div class="inner">
									<h3>{{stream.game}}</h3>
									<a href="{{stream.channel.url}}" target="_blank" style="target-new: tab;"><h4>{{stream.channel.display_name}}</h4></a>
									<a href="#openModal" class="button fit" ng-click='st.setChannel(stream.channel.name)'>Watch</a>
								</div>
							</div>

						</div>

					</div>
				</div>

			<div id="openModal" class="modalDialog" ng-controller="ChannelController as ch">

				<div>
					<a href="#close" title="Close" ng-click="ch.setActive(false)" class="close">X</a>
					<script>
						$(function(){
							$('.close').click(function(){
								$('iframe').attr('src', $('iframe').attr('src'));
							});
						});
					</script>
					<button href="" id="button" class="button fit" ng-hide="ch.active" ng-click='ch.call()'>Watch Stream</button>
					<div ng-show="ch.active">
						<iframe
								id="frame"
								height="360"
								width="640"
								frameborder="0"
								scrolling="no"
								allowfullscreen="true">
						</iframe>
					</div>
				</div>
			</div>


	</body>
</html>